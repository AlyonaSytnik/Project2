# Проект "Виджет банковских операций клиента"

## Описание:
Проект "Виджет банковских операций клиента" - это виджет, который показывает несколько последних успешных банковских операций клиента.

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/AlyonaSytnik/Project2
```
2. Установите зависимости:
```
pip install -r requirements.txt
```

## Функции:
### В модуле **masks.py** представлены 2 функции: ```get_mask_card_number``` и ```get_mask_account```.
### Функция get_mask_card_number
Принимает на вход номер карты и возвращает ее маску.
``` 
Пример работы функции:

7000792289606361     # входной аргумент
7000 79** **** 6361  # выход функции 
```
### Функция get_mask_account 
Принимает на вход номер счета и возвращает его маску.
``` 
Пример работы функции:

73654108430135874305  # входной аргумент
**4305  # выход функции 
```

### В модуле **widget.py** представлены 2 функции: ```mask_account_card``` и ```get_date```.

### Функция mask_account_card
Обрабатывает информацию как о картах, так и о счетах. Принимает один аргумент — 
строку, содержащую тип и номер карты или счета. Возвращает строку с замаскированным номером.

```
Примеры работы функции

#Пример для карты
Visa Platinum 7000792289606361  # входной аргумент
Visa Platinum 7000 79** **** 6361  # выход функции

#Пример для счета
Счет 73654108430135874305  # входной аргумент
Счет **4305  # выход функции 
```

### Функция get_date
Принимает на вход строку с датой в формате ``` "2024-03-11T02:26:18.671407"``` 
и возвращает строку с датой в формате "ДД.ММ.ГГГГ" ```"11.03.2024"```.

### В модуле **processing.py** представлены 2 функции: ```filter_by_state``` и ```sort_by_date```.

### Функция filter_by_state 

Принимает список словарей и опционально значение для ключа state (по умолчанию 'EXECUTED'). Функция возвращает новый список словарей, 
содержащий только те словари, у которых ключ stateсоответствует указанному значению.

```
Примеры работы функции:
# Выход функции со статусом по умолчанию 'EXECUTED'
`[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]`

# Выход функции, если вторым аргументов передано 'CANCELED'
`[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]`
```

### Функция sort_by_date 
Принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция возвращает новый список, 
отсортированный по дате (date).

``` 
Примеры работы функции:
# Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
`[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]`
```

# Тестирование функций

```======================================================================================================= test session starts =======================================================================================================
platform win32 -- Python 3.12.3, pytest-8.3.2, pluggy-1.5.0
rootdir: C:\Users\User\PycharmProjects\bank_mask
configfile: pyproject.toml
plugins: cov-5.0.0
collected 18 items

tests\test_masks.py .......                                     [ 38%]
tests\test_processing.py ....                                   [ 61%] 
tests\test_widget.py .......                                    [100%]

---------- coverage: platform win32, python 3.12.3-final-0 -----------
Name                       Stmts   Miss  Cover
----------------------------------------------
src\masks.py                   6      0   100%
src\processing.py              9      0   100%
src\widget.py                 11      0   100%
tests\__init__.py              0      0   100%
tests\conftest.py             16      4    75%
tests\test_masks.py            8      0   100%
tests\test_processing.py       8      0   100%
tests\test_widget.py           7      0   100%
----------------------------------------------
TOTAL                         65      4    94%

=============== 18 passed in 0.18s ======================================= 
```